<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="../Resources/style.css"/>
        
        <style>
            #CodeForm{
                display: none;
            }
        </style>
        <script type="application/javascript">
            function CheckEnd()
            {
                var form = document.getElementById("final");
                var inputs = form.getElementsByTagName("input");
                s = ""
                for(var i = inputs.length - 1; i >= 0; i --)
                {
                    s += inputs[i].value;
                }
                
                s = s.toLowerCase();
                if(s.localeCompare("ring225") == 0)
                {
                     document.getElementById("final_div").innerHTML = "נכון, הקוד הוסף למאגר";
                     localStorage.setItem("for_7", "OK");
                }
                else
                {
                    document.getElementById("final_div").innerHTML = "לא נכון נסו שוב";
                }
            }
            
            function CheckEndNumbers()
            {
                var form = document.getElementById("numbers");
                var inputs = form.getElementsByTagName("input");
                s = ""
                for(var i = inputs.length - 1; i >= 0; i --)
                {
                    s += inputs[i].value;
                }
                
                s = s.toLowerCase();
                if(s.localeCompare("690") == 0)
                {
                     alert("נכון, הקוד הנו ring225.\nאנא הכנס את הקוד בתיבת הטקסט החדשה:");
                    document.getElementById("numbersForm").style.display = "None";
                    document.getElementById("CodeForm").style.display = "block";
                    Init("CodeForm");
                }
                else
                {
                    document.getElementById("numbers_div").innerHTML = "לא נכון נסו שוב";
                }
            }
            
            function Init(formName)
            {
                var form = document.getElementById(formName);
                var inputs = form.getElementsByTagName("input");
                for(var k = inputs.length - 1; k > 0 ; k--)
                {
                    (function()
					{
						var inp = inputs[k];
						var next_inp = inputs[k - 1];
						if(next_inp.disabled)
						{
							if( k - 2 >= inputs.length)
							{

							}
							else
							{
								next_inp = inputs[k - 2];
							}
						}
						inp.addEventListener("input", function(event)
						{
							if(inp.value != "")
							{
								next_inp.focus();     
							}
						});
                    }());
                }
            }
            
            function OfferHint()
            {
                var answer = confirm("ראינו שאתם מתקשים, האם אתם רוצים עזרה?");
                if(answer)
                {
                     var clockImg = document.getElementById("clockImg");
                    clockImg.style.display = "none";
                    setTimeout(function(){          //To remove image before alert.
                        alert("הספרה השנייה (גלגל צהוב) היא 9 – מהי הספרה השלישית");
                    }, 250);
                }
                else
                {
                    setTimeout(OfferHint, 120000);
                }
            }
            
            function Start()
            {
                Init("numbers");
                setTimeout(OfferHint,150000);
            }
        </script>
        
    </head>
    <body onload="Start();">
        <div class="Center_div" id="Header_div">
            תחנה 7 - טביעות אצבע
        </div>

        <p id="HomeIcon">
            <a href="../Welcome/index.html">
                <span class="glyphicon glyphicon-home"></span>
            </a>
        </p>

        <img src = "../Resources/clock.png" id = "clockImg" title = "כאשר סמל זה ייעלם מן המסך, יופיע רמז.">

        <br>
        <p class="content">
            שליח  הגיע  לתחנת המשטרה עם חבילה גדולה ובתוכה חידת אתגר מתמטית ששלח ראש הכנופיה.<br>
            המשימה: <br>
            עליכם לסדר את שלושת גלגלי העץ, כך שהסכום של כל שלושה מספרים (אחד מכל גלגל בצורה אנכית) יהיה  זהה.
        </p><br>

        <!--            תמונה עתידית        -->

        <br>
        <p class="content">
            הכניסו את שלושת המספרים המופיעים בשלשה המסומנת בפס אפור (על הגלגל האדום) על פי הסדר שלהם ותקבלו את קוד הזירה. <br>
        </p>
        <p class="content" style = "font-size: 24px;"><b>רמז נוסף ייתכן ויגיע אליכם עוד מעט </b></p>
        <br><br>

        <div class="Content" style="text-align: center" id = "numbersForm">
            <div style="text-decoration: underline; margin-bottom: 3%;">שלישיית המספרים היא: </div>
            <form id="numbers">
                <input type="text" class="mini_txt" id="green" style = "color: green;" maxlength="1" pattern ="[0-9]*" />
                <input type="text" class="mini_txt" id="yellow" style = "color: gold;" maxlength="1" pattern ="[0-9]*" />
                <input type="text" class="mini_txt" id="red" style = "color: red;" maxlength="1" pattern ="[0-9]*" />
            </form>
            <div align = "Center">
                <button type="button" class="btn btn-primary btn-lg btn-block" style="width: 35%;" onclick="CheckEndNumbers();">בדוק</button>
            </div>
            <div id="numbers_div">
            </div>
        </div>



        <div class="Content" style="text-align: center" id = "CodeForm">
            <div style="text-decoration: underline; margin-bottom: 3%;">הכנס את הקוד כאן: </div>
            <form id="final">
                <input type="text" class="mini_txt" id="final_1" maxlength="1" pattern ="[0-9]*" />
                <input type="text" class="mini_txt" id="final_2" maxlength="1" pattern ="[0-9]*" />
                <input type="text" class="mini_txt" id="final_3" maxlength="1" pattern ="[0-9]*" />
                <input type="text" class="mini_txt" id="final_4" maxlength="1" pattern ="[0-9]*" />
                <input type="text" class="mini_txt" id="final_5" maxlength="1" pattern ="[0-9]*" />
                <input type="text" class="mini_txt" id="final_6" maxlength="1" pattern ="[0-9]*" />
                <input type="text" class="mini_txt" id="final_7" maxlength="1" pattern ="[0-9]*" />
            </form>
            <div align = "Center">
                <button type="button" class="btn btn-primary btn-lg btn-block" style="width: 35%;" onclick="CheckEnd();">בדוק</button>
            </div>
            <div id="final_div">
            </div>
        </div>
        <br><br><br>
    </body>